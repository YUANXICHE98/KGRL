# KGRL æ¶æ„æ¦‚è§ˆ

## ç³»ç»Ÿæ¶æ„

KGRLï¼ˆçŸ¥è¯†å›¾è°±å¢å¼ºå¼ºåŒ–å­¦ä¹ ï¼‰æ¡†æ¶é‡‡ç”¨**æ¸è¿›å¼å¢å¼º**çš„æ¶æ„è®¾è®¡ï¼Œé€šè¿‡å±‚å±‚é€’è¿›çš„æ™ºèƒ½ä½“ç±»å‹ï¼Œç³»ç»Ÿæ€§åœ°ç ”ç©¶çŸ¥è¯†å¢å¼ºå¯¹å†³ç­–åˆ¶å®šçš„å½±å“ã€‚

## ğŸ§  æ ¸å¿ƒè®¾è®¡ç†å¿µ

### æ¸è¿›å¼èƒ½åŠ›å¢å¼º
KGRLæ¡†æ¶éµå¾ª"**ä»ç®€å•åˆ°å¤æ‚ï¼Œä»åŸºç¡€åˆ°é«˜çº§**"çš„è®¾è®¡å“²å­¦ï¼š

1. **ğŸ”¹ LLMåŸºçº¿** - å»ºç«‹çº¯è¯­è¨€æ¨¡å‹çš„æ€§èƒ½åŸºå‡†
2. **ğŸ”¸ RAG/ReAct** - åœ¨åŸºçº¿ä¸Šå¢åŠ æ£€ç´¢å’Œæ¨ç†èƒ½åŠ›
3. **ğŸ”¶ RL KGæ™ºèƒ½ä½“** - åœ¨çŸ¥è¯†å›¾è°±åŸºç¡€ä¸Šå¢åŠ å­¦ä¹ ä¼˜åŒ–èƒ½åŠ›
4. **ğŸ”· ç»Ÿä¸€æ™ºèƒ½ä½“** - é›†æˆæ‰€æœ‰èƒ½åŠ›ï¼Œæ”¯æŒçµæ´»çš„æ¶ˆèç ”ç©¶

è¿™ç§è®¾è®¡ä½¿ç ”ç©¶äººå‘˜èƒ½å¤Ÿï¼š
- **é‡åŒ–æ¯ç§æŠ€æœ¯çš„ç‹¬ç«‹è´¡çŒ®**
- **ç†è§£ä¸åŒèƒ½åŠ›çš„ååŒæ•ˆåº”**
- **è¿›è¡Œå…¬å¹³å’Œç³»ç»Ÿçš„æ€§èƒ½å¯¹æ¯”**
- **æ¢ç´¢æœ€ä¼˜çš„èƒ½åŠ›ç»„åˆæ–¹å¼**

## ğŸ—ï¸ æ•´ä½“æ¡†æ¶å›¾

### ç³»ç»Ÿæ¶æ„æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           KGRL ç ”ç©¶æ¡†æ¶                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚   é…ç½®å±‚        â”‚    â”‚   å®éªŒå±‚        â”‚    â”‚   è¯„ä¼°å±‚        â”‚             â”‚
â”‚  â”‚ Configuration   â”‚    â”‚ Experiments     â”‚    â”‚ Evaluation      â”‚             â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚             â”‚
â”‚  â”‚ â€¢ Agent Configs â”‚    â”‚ â€¢ Ablation      â”‚    â”‚ â€¢ Metrics       â”‚             â”‚
â”‚  â”‚ â€¢ Env Configs   â”‚    â”‚ â€¢ Comparison    â”‚    â”‚ â€¢ Statistics    â”‚             â”‚
â”‚  â”‚ â€¢ Mode Configs  â”‚    â”‚ â€¢ Optimization  â”‚    â”‚ â€¢ Visualization â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              æ ¸å¿ƒæ™ºèƒ½ä½“å±‚                                        â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        ç»Ÿä¸€æ™ºèƒ½ä½“ (UnifiedAgent)                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚ â”‚
â”‚  â”‚  â”‚ ğŸ”¹ LLMåŸºçº¿   â”‚  â”‚ ğŸ”¸ RAG/ReAct â”‚  â”‚ ğŸ”¶ RL KGæ™ºèƒ½ä½“â”‚  â”‚ ğŸ”· ç»Ÿä¸€æ™ºèƒ½ä½“ â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ çº¯LLMå†³ç­–   â”‚  â”‚ æ£€ç´¢+æ¨ç†   â”‚  â”‚ å­¦ä¹ +ä¼˜åŒ–   â”‚  â”‚ èƒ½åŠ›é›†æˆ    â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ æ€§èƒ½åŸºå‡†    â”‚  â”‚ çŸ¥è¯†å¢å¼º    â”‚  â”‚ ç­–ç•¥å­¦ä¹     â”‚  â”‚ æ¶ˆèç ”ç©¶    â”‚        â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              èƒ½åŠ›æ¨¡å—å±‚                                          â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ çŸ¥è¯†æ¨¡å—    â”‚  â”‚ æ¨ç†æ¨¡å—    â”‚  â”‚ è®°å¿†æ¨¡å—    â”‚  â”‚ RLæ¨¡å—      â”‚            â”‚
â”‚  â”‚ Knowledge   â”‚  â”‚ Reasoning   â”‚  â”‚ Memory      â”‚  â”‚ RL          â”‚            â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚            â”‚
â”‚  â”‚ â€¢ GraphMgr  â”‚  â”‚ â€¢ ReAct     â”‚  â”‚ â€¢ STM       â”‚  â”‚ â€¢ PPO       â”‚            â”‚
â”‚  â”‚ â€¢ Retriever â”‚  â”‚ â€¢ DODAF     â”‚  â”‚ â€¢ MTM       â”‚  â”‚ â€¢ DQN       â”‚            â”‚
â”‚  â”‚ â€¢ Updater   â”‚  â”‚ â€¢ Strategy  â”‚  â”‚ â€¢ LTM       â”‚  â”‚ â€¢ Policy    â”‚            â”‚
â”‚  â”‚ â€¢ Indexer   â”‚  â”‚ â€¢ Planner   â”‚  â”‚ â€¢ Episodic  â”‚  â”‚ â€¢ Value     â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              åŸºç¡€è®¾æ–½å±‚                                          â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ ç¯å¢ƒé€‚é…    â”‚  â”‚ é›†æˆç¼–æ’    â”‚  â”‚ å·¥å…·æ”¯æŒ    â”‚  â”‚ æ•°æ®ç®¡ç†    â”‚            â”‚
â”‚  â”‚ Environment â”‚  â”‚ Integration â”‚  â”‚ Utils       â”‚  â”‚ Data        â”‚            â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚            â”‚
â”‚  â”‚ â€¢ TextWorld â”‚  â”‚ â€¢ Orchestr. â”‚  â”‚ â€¢ Logging   â”‚  â”‚ â€¢ Raw       â”‚            â”‚
â”‚  â”‚ â€¢ ALFWorld  â”‚  â”‚ â€¢ Pipeline  â”‚  â”‚ â€¢ Metrics   â”‚  â”‚ â€¢ Processed â”‚            â”‚
â”‚  â”‚ â€¢ Custom    â”‚  â”‚ â€¢ Mode Ctrl â”‚  â”‚ â€¢ Visual    â”‚  â”‚ â€¢ KG Data   â”‚            â”‚
â”‚  â”‚ â€¢ Adapter   â”‚  â”‚ â€¢ Exp Runnerâ”‚  â”‚ â€¢ Config    â”‚  â”‚ â€¢ Results   â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ æ¸è¿›å¼æ™ºèƒ½ä½“è®¾è®¡

### å››å±‚é€’è¿›æ¶æ„è¯¦è§£

KGRLæ¡†æ¶çš„æ ¸å¿ƒåˆ›æ–°åœ¨äº**æ¸è¿›å¼èƒ½åŠ›å¢å¼º**è®¾è®¡ï¼Œæ¯ä¸€å±‚éƒ½åœ¨å‰ä¸€å±‚çš„åŸºç¡€ä¸Šå¢åŠ æ–°çš„èƒ½åŠ›ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          KGRL æ¸è¿›å¼æ™ºèƒ½ä½“æ¶æ„                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  ğŸ”¹ ç¬¬ä¸€å±‚ï¼šLLMåŸºçº¿æ™ºèƒ½ä½“ (llm_baseline.py)                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  è§‚å¯Ÿ â†’ LLMç†è§£ â†’ ç›´æ¥å†³ç­– â†’ æ‰§è¡Œ                                           â”‚ â”‚
â”‚  â”‚  â€¢ çº¯è¯­è¨€æ¨¡å‹æ¨ç†ï¼Œæ— å¤–éƒ¨çŸ¥è¯†                                               â”‚ â”‚
â”‚  â”‚  â€¢ å»ºç«‹æ€§èƒ½åŸºå‡†ï¼Œé‡åŒ–åŸºç¡€èƒ½åŠ›                                               â”‚ â”‚
â”‚  â”‚  â€¢ é…ç½®ï¼šæ‰€æœ‰å¢å¼ºåŠŸèƒ½å…³é—­                                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â†“ å¢åŠ æ£€ç´¢å’Œæ¨ç†èƒ½åŠ›                      â”‚
â”‚  ğŸ”¸ ç¬¬äºŒå±‚ï¼šRAG/ReActæ™ºèƒ½ä½“ (rag_react_agent.py)                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  è§‚å¯Ÿ â†’ çŸ¥è¯†æ£€ç´¢ â†’ ReActæ¨ç† â†’ å¤šæ­¥è§„åˆ’ â†’ æ‰§è¡Œ                              â”‚ â”‚
â”‚  â”‚  â€¢ æ£€ç´¢å¢å¼ºç”Ÿæˆ (RAG) - åŠ¨æ€çŸ¥è¯†è·å–                                        â”‚ â”‚
â”‚  â”‚  â€¢ æ¨ç†-è¡ŒåŠ¨å¾ªç¯ (ReAct) - ç»“æ„åŒ–æ€è€ƒ                                       â”‚ â”‚
â”‚  â”‚  â€¢ åœ¨LLMåŸºç¡€ä¸Šå¢åŠ å¤–éƒ¨çŸ¥è¯†å’Œæ¨ç†ç»“æ„                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â†“ å¢åŠ å­¦ä¹ å’Œä¼˜åŒ–èƒ½åŠ›                      â”‚
â”‚  ğŸ”¶ ç¬¬ä¸‰å±‚ï¼šRL KGæ™ºèƒ½ä½“ (rl_kg_agent.py)                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  è§‚å¯Ÿ â†’ KGç‰¹å¾æå– â†’ ç­–ç•¥ç½‘ç»œ â†’ åŠ¨ä½œé€‰æ‹© â†’ æ‰§è¡Œ â†’ å­¦ä¹ æ›´æ–°                  â”‚ â”‚
â”‚  â”‚  â€¢ çŸ¥è¯†å›¾è°±ç‰¹å¾å·¥ç¨‹ - ç»“æ„åŒ–çŠ¶æ€è¡¨ç¤º                                        â”‚ â”‚
â”‚  â”‚  â€¢ å¼ºåŒ–å­¦ä¹ ç­–ç•¥ä¼˜åŒ– - ç»éªŒé©±åŠ¨æ”¹è¿›                                          â”‚ â”‚
â”‚  â”‚  â€¢ åœ¨çŸ¥è¯†åŸºç¡€ä¸Šå¢åŠ è‡ªé€‚åº”å­¦ä¹ èƒ½åŠ›                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â†“ é›†æˆæ‰€æœ‰èƒ½åŠ›                           â”‚
â”‚  ğŸ”· ç¬¬å››å±‚ï¼šç»Ÿä¸€æ™ºèƒ½ä½“ (unified_agent.py)                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  é…ç½®é©±åŠ¨ â†’ èƒ½åŠ›é€‰æ‹© â†’ åè°ƒæ‰§è¡Œ â†’ æ€§èƒ½ç›‘æ§                                  â”‚ â”‚
â”‚  â”‚  â€¢ çµæ´»çš„èƒ½åŠ›ç»„åˆ - æ”¯æŒä»»æ„é…ç½®                                            â”‚ â”‚
â”‚  â”‚  â€¢ æ¶ˆèç ”ç©¶æ”¯æŒ - ç³»ç»Ÿæ€§èƒ½åŠ›å¯¹æ¯”                                            â”‚ â”‚
â”‚  â”‚  â€¢ ç»Ÿä¸€æ¥å£ - ç®€åŒ–å®éªŒè®¾è®¡                                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¸è¿›å¼è®¾è®¡çš„ç§‘ç ”ä»·å€¼

1. **ğŸ”¬ ç³»ç»Ÿæ€§è¯„ä¼°**: æ¯ä¸€å±‚çš„æ€§èƒ½æå‡éƒ½å¯ä»¥è¢«ç²¾ç¡®é‡åŒ–
2. **ğŸ§ª æ¶ˆèç ”ç©¶**: å¯ä»¥å•ç‹¬æµ‹è¯•æ¯ç§æŠ€æœ¯çš„è´¡çŒ®
3. **ğŸ“Š å…¬å¹³å¯¹æ¯”**: åœ¨ç›¸åŒæ¡†æ¶ä¸‹å¯¹æ¯”ä¸åŒæ–¹æ³•
4. **ğŸ¯ æœ€ä¼˜ç»„åˆ**: æ¢ç´¢ä¸åŒèƒ½åŠ›çš„æœ€ä½³ç»„åˆæ–¹å¼

## ğŸ”„ ç³»ç»Ÿæ‰§è¡Œæµç¨‹

### ä¸»è¦æ‰§è¡Œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              KGRL æ‰§è¡Œæµç¨‹                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. åˆå§‹åŒ–é˜¶æ®µ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åŠ è½½é…ç½®    â”‚ -> â”‚ åˆ›å»ºæ™ºèƒ½ä½“  â”‚ -> â”‚ åˆå§‹åŒ–ç¯å¢ƒ  â”‚ -> â”‚ å¯åŠ¨å®éªŒ    â”‚
â”‚ Load Config â”‚    â”‚ Create Agentâ”‚    â”‚ Init Env    â”‚    â”‚ Start Exp   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. å›åˆæ‰§è¡Œæµç¨‹
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                å›åˆå¾ªç¯                                          â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                               â”‚
â”‚  â”‚ ç¯å¢ƒé‡ç½®    â”‚                                                               â”‚
â”‚  â”‚ Env Reset   â”‚                                                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                               â”‚
â”‚         â”‚                                                                      â”‚
â”‚         v                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ è·å–è§‚å¯Ÿ    â”‚ -> â”‚ ä¸Šä¸‹æ–‡æ„å»º  â”‚ -> â”‚ çŸ¥è¯†æ£€ç´¢    â”‚                        â”‚
â”‚  â”‚ Get Obs     â”‚    â”‚ Build Ctx   â”‚    â”‚ KG Retrieve â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚         â”‚                                     â”‚                               â”‚
â”‚         v                                     v                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ è®°å¿†æ£€ç´¢    â”‚ -> â”‚ æ¨ç†è§„åˆ’    â”‚ -> â”‚ åŠ¨ä½œé€‰æ‹©    â”‚                        â”‚
â”‚  â”‚ Mem Retrieveâ”‚    â”‚ Reasoning   â”‚    â”‚ Action Sel  â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚         â”‚                                     â”‚                               â”‚
â”‚         v                                     v                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ æ‰§è¡ŒåŠ¨ä½œ    â”‚ -> â”‚ è·å–åé¦ˆ    â”‚ -> â”‚ çŸ¥è¯†æ›´æ–°    â”‚                        â”‚
â”‚  â”‚ Execute Act â”‚    â”‚ Get Feedbackâ”‚    â”‚ KG Update   â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚         â”‚                                     â”‚                               â”‚
â”‚         v                                     v                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ è®°å¿†å­˜å‚¨    â”‚ -> â”‚ ç»Ÿè®¡æ›´æ–°    â”‚ -> â”‚ æ£€æŸ¥ç»ˆæ­¢    â”‚                        â”‚
â”‚  â”‚ Mem Store   â”‚    â”‚ Stats Updateâ”‚    â”‚ Check Done  â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                               â”‚                               â”‚
â”‚                                               v                               â”‚
â”‚                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                                        â”‚ å›åˆç»“æŸ?   â”‚                        â”‚
â”‚                                        â”‚ Episode End?â”‚                        â”‚
â”‚                                        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                               â”‚                               â”‚
â”‚                                               v                               â”‚
â”‚                                        [æ˜¯] -> ç»“æŸå›åˆ                        â”‚
â”‚                                        [å¦] -> ç»§ç»­å¾ªç¯                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3. å®éªŒç»“æŸæµç¨‹
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¿å­˜ç»“æœ    â”‚ -> â”‚ ç”ŸæˆæŠ¥å‘Š    â”‚ -> â”‚ æ¸…ç†èµ„æº    â”‚ -> â”‚ å®éªŒå®Œæˆ    â”‚
â”‚ Save Resultsâ”‚    â”‚ Gen Report  â”‚    â”‚ Cleanup     â”‚    â”‚ Exp Done    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š æ™ºèƒ½ä½“èƒ½åŠ›å¯¹æ¯”

### æ¸è¿›å¼èƒ½åŠ›å¢å¼ºå¯¹æ¯”è¡¨

| æ™ºèƒ½ä½“ç±»å‹ | ğŸ”¹ LLMåŸºçº¿ | ğŸ”¸ RAG/ReAct | ğŸ”¶ RL KGæ™ºèƒ½ä½“ | ğŸ”· ç»Ÿä¸€æ™ºèƒ½ä½“ |
|------------|------------|--------------|----------------|---------------|
| **æ ¸å¿ƒèƒ½åŠ›** | è¯­è¨€ç†è§£ | æ£€ç´¢+æ¨ç† | å­¦ä¹ +ä¼˜åŒ– | èƒ½åŠ›é›†æˆ |
| **çŸ¥è¯†æ¥æº** | é¢„è®­ç»ƒçŸ¥è¯† | åŠ¨æ€æ£€ç´¢ | å›¾è°±ç‰¹å¾ | å¯é…ç½® |
| **å†³ç­–æ–¹å¼** | ç›´æ¥ç”Ÿæˆ | å¤šæ­¥æ¨ç† | ç­–ç•¥ç½‘ç»œ | æ··åˆæ¨¡å¼ |
| **å­¦ä¹ èƒ½åŠ›** | âŒ æ—  | âŒ æ—  | âœ… å¼ºåŒ–å­¦ä¹  | âœ… å¯é€‰ |
| **æ¨ç†ç»“æ„** | âŒ æ—  | âœ… ReActå¾ªç¯ | âŒ æ—  | âœ… å¯é€‰ |
| **çŸ¥è¯†æ›´æ–°** | âŒ é™æ€ | âœ… æ£€ç´¢æ—¶æ›´æ–° | âœ… çŠ¶æ€æ›´æ–° | âœ… å¯é€‰ |
| **é€‚ç”¨åœºæ™¯** | ç®€å•ä»»åŠ¡ | å¤æ‚æ¨ç† | ç­–ç•¥å­¦ä¹  | ç ”ç©¶å¯¹æ¯” |
| **æ€§èƒ½ç‰¹ç‚¹** | å¿«é€Ÿå“åº” | å‡†ç¡®æ¨ç† | æŒç»­æ”¹è¿› | æœ€ä¼˜ç»„åˆ |

### æŠ€æœ¯æ ˆå¯¹æ¯”

```
ğŸ”¹ LLMåŸºçº¿æ™ºèƒ½ä½“
â”œâ”€â”€ LLMæ¨¡å‹ (GPT-4/Claude)
â”œâ”€â”€ åŸºç¡€Promptå·¥ç¨‹
â””â”€â”€ ç®€å•ä»»åŠ¡è§£æ

ğŸ”¸ RAG/ReActæ™ºèƒ½ä½“
â”œâ”€â”€ LLMæ¨¡å‹ (GPT-4/Claude)
â”œâ”€â”€ çŸ¥è¯†æ£€ç´¢ç³»ç»Ÿ
â”œâ”€â”€ ReActæ¨ç†æ¡†æ¶
â””â”€â”€ å¤šæ­¥è§„åˆ’èƒ½åŠ›

ğŸ”¶ RL KGæ™ºèƒ½ä½“
â”œâ”€â”€ çŸ¥è¯†å›¾è°±ç‰¹å¾æå–
â”œâ”€â”€ ç­–ç•¥ç½‘ç»œ (PPO/DQN)
â”œâ”€â”€ ç»éªŒå›æ”¾æœºåˆ¶
â””â”€â”€ åœ¨çº¿å­¦ä¹ æ›´æ–°

ğŸ”· ç»Ÿä¸€æ™ºèƒ½ä½“
â”œâ”€â”€ é…ç½®é©±åŠ¨æ¶æ„
â”œâ”€â”€ èƒ½åŠ›æ¨¡å—é›†æˆ
â”œâ”€â”€ æ¶ˆèç ”ç©¶æ”¯æŒ
â””â”€â”€ æ€§èƒ½ç›‘æ§ç³»ç»Ÿ
```

## æ ¸å¿ƒè®¾è®¡åŸåˆ™

### 1. æ¸è¿›å¼èƒ½åŠ›å¢å¼ºè®¾è®¡

```
ğŸ”¹ åŸºç¡€èƒ½åŠ› â†’ ğŸ”¸ çŸ¥è¯†å¢å¼º â†’ ğŸ”¶ å­¦ä¹ ä¼˜åŒ– â†’ ğŸ”· ç³»ç»Ÿé›†æˆ
```

**è®¾è®¡å“²å­¦**: æ¯ä¸€å±‚éƒ½åœ¨å‰ä¸€å±‚åŸºç¡€ä¸Šå¢åŠ æ–°èƒ½åŠ›ï¼Œç¡®ä¿ï¼š
- **å¯æ§çš„å¤æ‚åº¦å¢é•¿**: é€æ­¥å¼•å…¥æ–°æŠ€æœ¯ï¼Œä¾¿äºç†è§£å’Œè°ƒè¯•
- **ç‹¬ç«‹çš„è´¡çŒ®é‡åŒ–**: æ¯ç§æŠ€æœ¯çš„æ•ˆæœéƒ½å¯ä»¥è¢«ç²¾ç¡®æµ‹é‡
- **ç³»ç»Ÿçš„æ€§èƒ½å¯¹æ¯”**: åœ¨ç›¸åŒæ¡†æ¶ä¸‹å…¬å¹³æ¯”è¾ƒä¸åŒæ–¹æ³•
- **çµæ´»çš„èƒ½åŠ›ç»„åˆ**: æ”¯æŒä»»æ„çš„èƒ½åŠ›å¯ç”¨/ç¦ç”¨ç»„åˆ

**å±‚æ¬¡å…³ç³»**:
- **ğŸ”¹ LLMåŸºçº¿**: å»ºç«‹çº¯è¯­è¨€æ¨¡å‹çš„æ€§èƒ½åŸºå‡†
- **ğŸ”¸ RAG/ReAct**: åœ¨åŸºçº¿ä¸Šå¢åŠ å¤–éƒ¨çŸ¥è¯†å’Œç»“æ„åŒ–æ¨ç†
- **ğŸ”¶ RL KGæ™ºèƒ½ä½“**: åœ¨çŸ¥è¯†åŸºç¡€ä¸Šå¢åŠ è‡ªé€‚åº”å­¦ä¹ èƒ½åŠ›
- **ğŸ”· ç»Ÿä¸€æ™ºèƒ½ä½“**: æä¾›çµæ´»çš„èƒ½åŠ›ç»„åˆå’Œæ¶ˆèç ”ç©¶æ”¯æŒ

### 2. é…ç½®é©±åŠ¨æ¶æ„

æ‰€æœ‰ç³»ç»Ÿè¡Œä¸ºéƒ½é€šè¿‡YAMLé…ç½®æ–‡ä»¶æ§åˆ¶ï¼Œå®ç°ï¼š

- ç®€ä¾¿çš„æ¶ˆèç ”ç©¶
- å¯é‡ç°çš„å®éªŒ
- çµæ´»çš„èƒ½åŠ›ç»„åˆ
- ç³»ç»ŸåŒ–è¯„ä¼°

### 3. æ¨¡å—åŒ–ç»„ä»¶è®¾è®¡

ç‹¬ç«‹ã€å¯ç»„åˆçš„æ¨¡å—ï¼Œå¯ä»¥æ··åˆåŒ¹é…ï¼š

- çŸ¥è¯†å›¾è°±æ¨¡å—
- è®°å¿†ç³»ç»Ÿæ¨¡å—
- æ¨ç†æ¨¡å—
- å¼ºåŒ–å­¦ä¹ æ¨¡å—
- é›†æˆæ¨¡å—

## ğŸ§ª æ¸è¿›å¼ç ”ç©¶ç¤ºä¾‹

### å…¸å‹çš„æ¶ˆèç ”ç©¶æµç¨‹

ä½¿ç”¨KGRLæ¡†æ¶è¿›è¡Œç³»ç»Ÿæ€§ç ”ç©¶çš„å…¸å‹æµç¨‹ï¼š

```python
# 1. å»ºç«‹åŸºçº¿æ€§èƒ½
baseline_config = "configs/agents/llm_baseline.yaml"
baseline_results = run_experiment(baseline_config)
# ç»“æœ: æˆåŠŸç‡ 30%, å¹³å‡æ­¥æ•° 25

# 2. æµ‹è¯•çŸ¥è¯†å¢å¼ºæ•ˆæœ
rag_config = "configs/agents/rag_react_agent.yaml"
rag_results = run_experiment(rag_config)
# ç»“æœ: æˆåŠŸç‡ 55%, å¹³å‡æ­¥æ•° 18
# åˆ†æ: çŸ¥è¯†æ£€ç´¢æå‡äº†25%çš„æˆåŠŸç‡

# 3. æµ‹è¯•å­¦ä¹ ä¼˜åŒ–æ•ˆæœ
rl_config = "configs/agents/rl_kg_agent.yaml"
rl_results = run_experiment(rl_config)
# ç»“æœ: æˆåŠŸç‡ 70%, å¹³å‡æ­¥æ•° 12
# åˆ†æ: å¼ºåŒ–å­¦ä¹ è¿›ä¸€æ­¥æå‡äº†15%çš„æˆåŠŸç‡

# 4. æµ‹è¯•å®Œæ•´ç³»ç»Ÿæ•ˆæœ
full_config = "configs/agents/fully_augmented.yaml"
full_results = run_experiment(full_config)
# ç»“æœ: æˆåŠŸç‡ 85%, å¹³å‡æ­¥æ•° 10
# åˆ†æ: èƒ½åŠ›ååŒå¸¦æ¥äº†é¢å¤–15%çš„æå‡
```

### ç ”ç©¶é—®é¢˜ç¤ºä¾‹

KGRLæ¡†æ¶å¯ä»¥å›ç­”çš„å…¸å‹ç ”ç©¶é—®é¢˜ï¼š

1. **ğŸ” æŠ€æœ¯è´¡çŒ®é‡åŒ–**
   - "RAGæ£€ç´¢ç›¸æ¯”çº¯LLMæå‡äº†å¤šå°‘æ€§èƒ½ï¼Ÿ"
   - "å¼ºåŒ–å­¦ä¹ åœ¨çŸ¥è¯†å¢å¼ºåŸºç¡€ä¸Šçš„é¢å¤–è´¡çŒ®æ˜¯ä»€ä¹ˆï¼Ÿ"

2. **ğŸ”§ æœ€ä¼˜é…ç½®æ¢ç´¢**
   - "å“ªç§èƒ½åŠ›ç»„åˆåœ¨ç‰¹å®šä»»åŠ¡ä¸Šæ•ˆæœæœ€å¥½ï¼Ÿ"
   - "ä¸åŒç¯å¢ƒä¸‹çš„æœ€ä¼˜æ™ºèƒ½ä½“é…ç½®æ˜¯ä»€ä¹ˆï¼Ÿ"

3. **ğŸ“Š ç³»ç»Ÿæ€§èƒ½åˆ†æ**
   - "å„ç§æŠ€æœ¯çš„è®¡ç®—å¼€é”€å’Œæ€§èƒ½æ”¶ç›Šå¦‚ä½•æƒè¡¡ï¼Ÿ"
   - "åœ¨èµ„æºå—é™æƒ…å†µä¸‹åº”è¯¥ä¼˜å…ˆå¯ç”¨å“ªäº›èƒ½åŠ›ï¼Ÿ"

4. **ğŸ¯ æ³›åŒ–èƒ½åŠ›ç ”ç©¶**
   - "åœ¨ä¸€ä¸ªç¯å¢ƒä¸­è®­ç»ƒçš„RLç­–ç•¥èƒ½å¦æ³›åŒ–åˆ°å…¶ä»–ç¯å¢ƒï¼Ÿ"
   - "ä¸åŒå¤æ‚åº¦ä»»åŠ¡å¯¹å„ç§èƒ½åŠ›çš„éœ€æ±‚æœ‰ä½•å·®å¼‚ï¼Ÿ"

## ç³»ç»Ÿç»„ä»¶

### æ™ºèƒ½ä½“å±‚ (`src/agents/`)

#### BaseAgent

æŠ½è±¡åŸºç±»æä¾›ï¼š

- æ‰€æœ‰æ™ºèƒ½ä½“çš„é€šç”¨æ¥å£
- ç»Ÿè®¡è·Ÿè¸ªå’Œæ—¥å¿—è®°å½•
- æ£€æŸ¥ç‚¹ä¿å­˜/åŠ è½½åŠŸèƒ½
- é…ç½®ç®¡ç†

#### LLMBaselineAgent

çº¯LLMå®ç°ï¼š

- ä»è§‚å¯Ÿä¸­æå–ä»»åŠ¡
- ç›´æ¥åŠ¨ä½œé€‰æ‹©
- æœ€å°å¤„ç†å¼€é”€
- ç”¨äºæ¯”è¾ƒçš„åŸºçº¿

#### RAGReActAgent

å¢å¼ºæ™ºèƒ½ä½“å…·æœ‰ï¼š

- æ£€ç´¢å¢å¼ºç”Ÿæˆ
- ReActæ¨ç†å¾ªç¯
- çŸ¥è¯†å›¾è°±é›†æˆ
- è®°å¿†ç³»ç»Ÿé›†æˆ

#### RLKGAgent

å¼ºåŒ–å­¦ä¹ æ™ºèƒ½ä½“ï¼š

- å¸¦KGç‰¹å¾çš„PPO/DQN
- å›¾æ„ŸçŸ¥çŠ¶æ€è¡¨ç¤º
- KGå¢å¼ºå¥–åŠ±å¡‘å½¢
- å¸¦çŸ¥è¯†çš„ç­–ç•¥å­¦ä¹ 

#### UnifiedAgent

å®Œæ•´ç³»ç»Ÿé›†æˆï¼š

- ä¸€ä¸ªæ™ºèƒ½ä½“ä¸­çš„æ‰€æœ‰èƒ½åŠ›
- é…ç½®é©±åŠ¨çš„èƒ½åŠ›é€‰æ‹©
- å…¨é¢çš„æ¶ˆèæ”¯æŒ
- å®Œæ•´ç³»ç»Ÿè¯„ä¼°

### çŸ¥è¯†å±‚ (`src/knowledge/`)

#### GraphManager

æ ¸å¿ƒå›¾æ“ä½œï¼š

- å¤šåç«¯æ”¯æŒï¼ˆNetworkXã€Neo4jï¼‰
- å›¾æŒä¹…åŒ–å’Œç‰ˆæœ¬æ§åˆ¶
- èŠ‚ç‚¹/è¾¹çš„CRUDæ“ä½œ
- ç»Ÿè®¡å’Œåˆ†æ

#### KnowledgeRetriever

æ™ºèƒ½æ£€ç´¢ï¼š

- è¯­ä¹‰ç›¸ä¼¼æ€§æœç´¢
- åŸºäºå…³é”®è¯çš„æ£€ç´¢
- å›¾éå†æŸ¥è¯¢
- æ··åˆæ£€ç´¢ç­–ç•¥

#### KnowledgeUpdater

åŠ¨æ€çŸ¥è¯†æ›´æ–°ï¼š

- åŸºäºè¯æ®çš„æ›´æ–°
- å†²çªè§£å†³
- ç½®ä¿¡åº¦è·Ÿè¸ª
- æ—¶é—´ç‰ˆæœ¬æ§åˆ¶

#### KnowledgeIndexer

é«˜æ•ˆç´¢å¼•ï¼š

- å‘é‡åµŒå…¥ï¼ˆFAISSã€Qdrantï¼‰
- å€’æ’ç´¢å¼•
- å›¾ç»“æ„ç´¢å¼•
- å®æ—¶ç´¢å¼•æ›´æ–°

### æ¨ç†å±‚ (`src/reasoning/`)

#### ReActPlanner

ReActæ¨ç†å®ç°ï¼š

- æ€è€ƒ-åŠ¨ä½œ-è§‚å¯Ÿå¾ªç¯
- å¤šæ­¥è§„åˆ’
- ç½®ä¿¡åº¦ä¼°è®¡
- é”™è¯¯æ¢å¤

#### DODAFReasoner

DODAFæ¡†æ¶æ¨ç†ï¼š

- DO-DA-Fç»“æ„åˆ†æ
- å› æœæ¨ç†é“¾
- å†³ç­–è¯æ˜
- æˆ˜ç•¥è§„åˆ’

#### StrategySelector

æ¨ç†ç­–ç•¥é€‰æ‹©ï¼š

- ä¸Šä¸‹æ–‡æ„ŸçŸ¥ç­–ç•¥é€‰æ‹©
- åŸºäºæ€§èƒ½çš„é€‚åº”
- å¤šç­–ç•¥ç»„åˆ
- åŠ¨æ€åˆ‡æ¢

### å¼ºåŒ–å­¦ä¹ å±‚ (`src/rl/`)

#### ç®—æ³•

- å¸¦KGç‰¹å¾çš„PPO
- å¸¦å›¾åµŒå…¥çš„DQN
- å¸¦çŸ¥è¯†é›†æˆçš„A2C
- è‡ªå®šä¹‰KGæ„ŸçŸ¥ç®—æ³•

#### ç­–ç•¥

- å›¾æ³¨æ„åŠ›ç½‘ç»œ
- çŸ¥è¯†æ¡ä»¶ç­–ç•¥
- å¤šæ¨¡æ€çŠ¶æ€å¤„ç†
- åˆ†å±‚åŠ¨ä½œç©ºé—´

### ç¯å¢ƒå±‚ (`src/environments/`)

#### TextWorldAdapter

TextWorldç¯å¢ƒé›†æˆï¼š

- è§‚å¯Ÿé¢„å¤„ç†
- åŠ¨ä½œç©ºé—´ç¦»æ•£åŒ–
- å¥–åŠ±ä¿¡å·å¤„ç†
- å›åˆç®¡ç†

#### ALFWorldAdapter

ALFWorldç¯å¢ƒæ”¯æŒï¼š

- å¤šæ¨¡æ€è§‚å¯Ÿ
- å¤æ‚åŠ¨ä½œåºåˆ—
- é•¿æœŸä»»åŠ¡
- è¯„ä¼°æŒ‡æ ‡

### é›†æˆå±‚ (`src/integration/`)

#### SystemOrchestrator

ä¸»ç³»ç»Ÿåè°ƒå™¨ï¼š

- ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†
- æ¨¡å—é—´é€šä¿¡
- é”™è¯¯å¤„ç†å’Œæ¢å¤
- æ€§èƒ½ç›‘æ§

#### ModeController

æ“ä½œæ¨¡å¼ç®¡ç†ï¼š

- è”åˆvsè§£è€¦æ“ä½œ
- æ£€ç´¢ä¼˜å…ˆvsæ›´æ–°ä¼˜å…ˆ
- è‡ªé€‚åº”æ¨¡å¼åˆ‡æ¢
- æ€§èƒ½ä¼˜åŒ–

#### PipelineManager

å¤„ç†ç®¡é“æ§åˆ¶ï¼š

- æ•°æ®æµç®¡ç†
- å¹¶è¡Œå¤„ç†
- æ‰¹å¤„ç†æ“ä½œ
- èµ„æºåˆ†é…

## æ•°æ®æµæ¶æ„

### 1. è§‚å¯Ÿå¤„ç†

```
ç¯å¢ƒ â†’ è§‚å¯Ÿ â†’ é¢„å¤„ç† â†’ ä¸Šä¸‹æ–‡æ„å»º
```

### 2. çŸ¥è¯†é›†æˆ

```
ä¸Šä¸‹æ–‡ â†’ KGæ£€ç´¢ â†’ è®°å¿†æ£€ç´¢ â†’ å¢å¼ºä¸Šä¸‹æ–‡
```

### 3. æ¨ç†è¿‡ç¨‹

```
å¢å¼ºä¸Šä¸‹æ–‡ â†’ ç­–ç•¥é€‰æ‹© â†’ æ¨ç† â†’ å€™é€‰åŠ¨ä½œ
```

### 4. åŠ¨ä½œé€‰æ‹©

```
å€™é€‰åŠ¨ä½œ â†’ ç­–ç•¥/LLM â†’ æœ€ç»ˆåŠ¨ä½œ â†’ ç¯å¢ƒ
```

### 5. çŸ¥è¯†æ›´æ–°

```
åŠ¨ä½œç»“æœ â†’ è¯æ®æå– â†’ KGæ›´æ–° â†’ è®°å¿†å­˜å‚¨
```

## é…ç½®æ¶æ„

### æ™ºèƒ½ä½“é…ç½® (`configs/agents/`)

- èƒ½åŠ›å¼€å…³
- æ¨¡å‹å‚æ•°
- ç»„ä»¶è®¾ç½®
- è¯„ä¼°æŒ‡æ ‡

### ç¯å¢ƒé…ç½® (`configs/environments/`)

- ç¯å¢ƒå‚æ•°
- è§‚å¯Ÿé¢„å¤„ç†
- åŠ¨ä½œç©ºé—´å®šä¹‰
- å¥–åŠ±å¡‘å½¢

### æ¨¡å¼é…ç½® (`configs/modes/`)

- æ“ä½œç­–ç•¥
- åè°ƒæœºåˆ¶
- æ€§èƒ½é˜ˆå€¼
- é€‚åº”è§„åˆ™

### å®éªŒé…ç½® (`configs/experiments/`)

- æ¶ˆèçŸ©é˜µ
- è¯„ä¼°åè®®
- ç»Ÿè®¡åˆ†æ
- ç»“æœæ ¼å¼åŒ–

## ğŸ”Œ å¯æ‰©å±•æ¥å£è®¾è®¡

### æ¥å£æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            KGRL å¯æ‰©å±•æ¥å£æ¶æ„                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                          æ ¸å¿ƒæ¥å£å±‚                                          â”‚ â”‚
â”‚  â”‚                                                                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚ â”‚
â”‚  â”‚  â”‚ IAgent      â”‚  â”‚ IEnvironmentâ”‚  â”‚ IKnowledge  â”‚  â”‚ IReasoning  â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ æ™ºèƒ½ä½“æ¥å£  â”‚  â”‚ ç¯å¢ƒæ¥å£    â”‚  â”‚ çŸ¥è¯†æ¥å£    â”‚  â”‚ æ¨ç†æ¥å£    â”‚        â”‚ â”‚
â”‚  â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ act()     â”‚  â”‚ â€¢ reset()   â”‚  â”‚ â€¢ retrieve()â”‚  â”‚ â€¢ plan()    â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ learn()   â”‚  â”‚ â€¢ step()    â”‚  â”‚ â€¢ update()  â”‚  â”‚ â€¢ reason()  â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ save()    â”‚  â”‚ â€¢ render()  â”‚  â”‚ â€¢ index()   â”‚  â”‚ â€¢ evaluate()â”‚        â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         æ‰©å±•å®ç°å±‚                                           â”‚ â”‚
â”‚  â”‚                                                                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚ â”‚
â”‚  â”‚  â”‚ æ™ºèƒ½ä½“å®ç°  â”‚  â”‚ ç¯å¢ƒé€‚é…å™¨  â”‚  â”‚ çŸ¥è¯†åç«¯    â”‚  â”‚ æ¨ç†ç­–ç•¥    â”‚        â”‚ â”‚
â”‚  â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ LLMAgent  â”‚  â”‚ â€¢ TextWorld â”‚  â”‚ â€¢ NetworkX  â”‚  â”‚ â€¢ ReAct     â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ RLAgent   â”‚  â”‚ â€¢ ALFWorld  â”‚  â”‚ â€¢ Neo4j     â”‚  â”‚ â€¢ DODAF     â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Unified   â”‚  â”‚ â€¢ Custom    â”‚  â”‚ â€¢ Custom    â”‚  â”‚ â€¢ Custom    â”‚        â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         æ’ä»¶ç³»ç»Ÿå±‚                                           â”‚ â”‚
â”‚  â”‚                                                                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚ â”‚
â”‚  â”‚  â”‚ è¯„ä¼°æ’ä»¶    â”‚  â”‚ å¯è§†åŒ–æ’ä»¶  â”‚  â”‚ æ•°æ®æ’ä»¶    â”‚  â”‚ å·¥å…·æ’ä»¶    â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ Evaluators  â”‚  â”‚ Visualizers â”‚  â”‚ Data Loadersâ”‚  â”‚ Utilities   â”‚        â”‚ â”‚
â”‚  â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Metrics   â”‚  â”‚ â€¢ Plots     â”‚  â”‚ â€¢ Importers â”‚  â”‚ â€¢ Profilers â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Benchmarksâ”‚  â”‚ â€¢ Reports   â”‚  â”‚ â€¢ Exporters â”‚  â”‚ â€¢ Debuggers â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Analyzers â”‚  â”‚ â€¢ Dashboardsâ”‚  â”‚ â€¢ Convertersâ”‚  â”‚ â€¢ Validatorsâ”‚        â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæ¥å£å®šä¹‰

#### 1. æ™ºèƒ½ä½“æ¥å£ (IAgent)

```python
from abc import ABC, abstractmethod
from typing import Any, Dict, List, Optional

class IAgent(ABC):
    """æ™ºèƒ½ä½“æ ¸å¿ƒæ¥å£"""

    @abstractmethod
    def act(self, observation: Any, **kwargs) -> Any:
        """æ ¹æ®è§‚å¯Ÿé€‰æ‹©åŠ¨ä½œ"""
        pass

    @abstractmethod
    def learn(self, experience: Dict[str, Any]) -> None:
        """ä»ç»éªŒä¸­å­¦ä¹ """
        pass

    @abstractmethod
    def reset(self) -> None:
        """é‡ç½®æ™ºèƒ½ä½“çŠ¶æ€"""
        pass

    @abstractmethod
    def get_statistics(self) -> Dict[str, Any]:
        """è·å–ç»Ÿè®¡ä¿¡æ¯"""
        pass

    @abstractmethod
    def save_checkpoint(self, path: str) -> None:
        """ä¿å­˜æ£€æŸ¥ç‚¹"""
        pass

    @abstractmethod
    def load_checkpoint(self, path: str) -> None:
        """åŠ è½½æ£€æŸ¥ç‚¹"""
        pass
```

#### 2. ç¯å¢ƒæ¥å£ (IEnvironment)

```python
class IEnvironment(ABC):
    """ç¯å¢ƒæ ¸å¿ƒæ¥å£"""

    @abstractmethod
    def reset(self) -> Any:
        """é‡ç½®ç¯å¢ƒï¼Œè¿”å›åˆå§‹è§‚å¯Ÿ"""
        pass

    @abstractmethod
    def step(self, action: Any) -> tuple:
        """æ‰§è¡ŒåŠ¨ä½œï¼Œè¿”å›(è§‚å¯Ÿ, å¥–åŠ±, å®Œæˆ, ä¿¡æ¯)"""
        pass

    @abstractmethod
    def render(self, mode: str = 'human') -> Optional[Any]:
        """æ¸²æŸ“ç¯å¢ƒ"""
        pass

    @abstractmethod
    def close(self) -> None:
        """å…³é—­ç¯å¢ƒ"""
        pass

    @property
    @abstractmethod
    def action_space(self) -> Any:
        """åŠ¨ä½œç©ºé—´"""
        pass

    @property
    @abstractmethod
    def observation_space(self) -> Any:
        """è§‚å¯Ÿç©ºé—´"""
        pass
```

#### 3. çŸ¥è¯†æ¥å£ (IKnowledge)

```python
class IKnowledge(ABC):
    """çŸ¥è¯†ç³»ç»Ÿæ ¸å¿ƒæ¥å£"""

    @abstractmethod
    def retrieve(self, query: str, **kwargs) -> List[Dict[str, Any]]:
        """æ£€ç´¢ç›¸å…³çŸ¥è¯†"""
        pass

    @abstractmethod
    def update(self, facts: List[Dict[str, Any]]) -> None:
        """æ›´æ–°çŸ¥è¯†åº“"""
        pass

    @abstractmethod
    def index(self, documents: List[str]) -> None:
        """å»ºç«‹ç´¢å¼•"""
        pass

    @abstractmethod
    def get_statistics(self) -> Dict[str, Any]:
        """è·å–çŸ¥è¯†åº“ç»Ÿè®¡"""
        pass
```

#### 4. æ¨ç†æ¥å£ (IReasoning)

```python
class IReasoning(ABC):
    """æ¨ç†ç³»ç»Ÿæ ¸å¿ƒæ¥å£"""

    @abstractmethod
    def plan(self, context: Dict[str, Any]) -> List[Dict[str, Any]]:
        """åˆ¶å®šè¡ŒåŠ¨è®¡åˆ’"""
        pass

    @abstractmethod
    def reason(self, premises: List[str]) -> Dict[str, Any]:
        """è¿›è¡Œæ¨ç†"""
        pass

    @abstractmethod
    def evaluate(self, plan: List[Dict[str, Any]]) -> float:
        """è¯„ä¼°è®¡åˆ’è´¨é‡"""
        pass
```

## æ‰©å±•ç‚¹è¯¦è§£

### 1. æ™ºèƒ½ä½“æ‰©å±•

```python
# ç¤ºä¾‹ï¼šåˆ›å»ºè‡ªå®šä¹‰æ™ºèƒ½ä½“
class MyCustomAgent(BaseAgent):
    """è‡ªå®šä¹‰æ™ºèƒ½ä½“å®ç°"""

    def __init__(self, name: str, config: Dict[str, Any]):
        super().__init__(name, config)
        # åˆå§‹åŒ–è‡ªå®šä¹‰ç»„ä»¶
        self.custom_component = self._init_custom_component()

    def _select_action(self, observation: Any) -> Any:
        """å®ç°è‡ªå®šä¹‰åŠ¨ä½œé€‰æ‹©é€»è¾‘"""
        # è‡ªå®šä¹‰å†³ç­–é€»è¾‘
        context = self._build_context(observation)
        action = self.custom_component.decide(context)
        return action

    def _process_feedback(self, feedback: Dict[str, Any]) -> None:
        """å¤„ç†ç¯å¢ƒåé¦ˆ"""
        # è‡ªå®šä¹‰å­¦ä¹ é€»è¾‘
        self.custom_component.learn(feedback)
```

### 2. ç¯å¢ƒæ‰©å±•

```python
# ç¤ºä¾‹ï¼šåˆ›å»ºè‡ªå®šä¹‰ç¯å¢ƒé€‚é…å™¨
class MyEnvironmentAdapter(BaseEnvironment):
    """è‡ªå®šä¹‰ç¯å¢ƒé€‚é…å™¨"""

    def __init__(self, config: Dict[str, Any]):
        super().__init__(config)
        self.env = self._create_environment()

    def reset(self) -> Any:
        """é‡ç½®ç¯å¢ƒ"""
        raw_obs = self.env.reset()
        return self._preprocess_observation(raw_obs)

    def step(self, action: Any) -> tuple:
        """æ‰§è¡ŒåŠ¨ä½œ"""
        processed_action = self._preprocess_action(action)
        obs, reward, done, info = self.env.step(processed_action)
        return (
            self._preprocess_observation(obs),
            self._shape_reward(reward),
            done,
            info
        )
```

### 3. çŸ¥è¯†åç«¯æ‰©å±•

```python
# ç¤ºä¾‹ï¼šåˆ›å»ºè‡ªå®šä¹‰çŸ¥è¯†åç«¯
class MyKnowledgeBackend(IKnowledge):
    """è‡ªå®šä¹‰çŸ¥è¯†åç«¯"""

    def __init__(self, config: Dict[str, Any]):
        self.config = config
        self.storage = self._init_storage()
        self.index = self._init_index()

    def retrieve(self, query: str, **kwargs) -> List[Dict[str, Any]]:
        """å®ç°è‡ªå®šä¹‰æ£€ç´¢é€»è¾‘"""
        # è¯­ä¹‰æœç´¢
        semantic_results = self.index.semantic_search(query)
        # å…³é”®è¯æœç´¢
        keyword_results = self.index.keyword_search(query)
        # æ··åˆæ’åº
        return self._merge_and_rank(semantic_results, keyword_results)

    def update(self, facts: List[Dict[str, Any]]) -> None:
        """å®ç°è‡ªå®šä¹‰æ›´æ–°é€»è¾‘"""
        for fact in facts:
            # å†²çªæ£€æµ‹
            conflicts = self._detect_conflicts(fact)
            if conflicts:
                resolved_fact = self._resolve_conflicts(fact, conflicts)
            else:
                resolved_fact = fact
            # å­˜å‚¨æ›´æ–°
            self.storage.store(resolved_fact)
            self.index.update(resolved_fact)
```

### 4. æ¨ç†ç­–ç•¥æ‰©å±•

```python
# ç¤ºä¾‹ï¼šåˆ›å»ºè‡ªå®šä¹‰æ¨ç†ç­–ç•¥
class MyReasoningStrategy(IReasoning):
    """è‡ªå®šä¹‰æ¨ç†ç­–ç•¥"""

    def __init__(self, config: Dict[str, Any]):
        self.config = config
        self.planner = self._init_planner()

    def plan(self, context: Dict[str, Any]) -> List[Dict[str, Any]]:
        """å®ç°è‡ªå®šä¹‰è§„åˆ’é€»è¾‘"""
        # åˆ†æå½“å‰çŠ¶æ€
        state_analysis = self._analyze_state(context)

        # ç”Ÿæˆå€™é€‰è®¡åˆ’
        candidate_plans = self._generate_candidates(state_analysis)

        # è¯„ä¼°å’Œé€‰æ‹©
        best_plan = self._select_best_plan(candidate_plans)

        return best_plan

    def reason(self, premises: List[str]) -> Dict[str, Any]:
        """å®ç°è‡ªå®šä¹‰æ¨ç†é€»è¾‘"""
        # æ„å»ºæ¨ç†å›¾
        reasoning_graph = self._build_reasoning_graph(premises)

        # æ‰§è¡Œæ¨ç†
        conclusions = self._execute_reasoning(reasoning_graph)

        return {
            'conclusions': conclusions,
            'confidence': self._compute_confidence(conclusions),
            'reasoning_trace': reasoning_graph
        }
```

## ğŸ”§ æ’ä»¶ç³»ç»Ÿ

### æ’ä»¶æ³¨å†Œæœºåˆ¶

```python
# æ’ä»¶æ³¨å†Œè£…é¥°å™¨
from src.core.plugin_registry import register_plugin

@register_plugin("agent", "my_custom_agent")
class MyCustomAgent(BaseAgent):
    """è‡ªå®šä¹‰æ™ºèƒ½ä½“æ’ä»¶"""
    pass

@register_plugin("environment", "my_custom_env")
class MyCustomEnvironment(BaseEnvironment):
    """è‡ªå®šä¹‰ç¯å¢ƒæ’ä»¶"""
    pass

@register_plugin("knowledge", "my_custom_kg")
class MyCustomKnowledge(IKnowledge):
    """è‡ªå®šä¹‰çŸ¥è¯†åç«¯æ’ä»¶"""
    pass

# æ’ä»¶ä½¿ç”¨
from src.core.plugin_registry import get_plugin

# é€šè¿‡åç§°è·å–æ’ä»¶ç±»
AgentClass = get_plugin("agent", "my_custom_agent")
agent = AgentClass(name="test", config=config)
```

### é…ç½®é©±åŠ¨çš„æ’ä»¶åŠ è½½

```yaml
# é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šæ’ä»¶
agent:
  type: "my_custom_agent"  # æ’ä»¶åç§°
  config:
    # æ’ä»¶ç‰¹å®šé…ç½®
    custom_param: "value"

environment:
  type: "my_custom_env"
  config:
    difficulty: "hard"

knowledge:
  backend: "my_custom_kg"
  config:
    connection_string: "custom://localhost:8080"
```

### åŠ¨æ€æ’ä»¶å‘ç°

```python
# è‡ªåŠ¨å‘ç°å’ŒåŠ è½½æ’ä»¶
from src.core.plugin_loader import PluginLoader

loader = PluginLoader()

# æ‰«ææ’ä»¶ç›®å½•
loader.scan_directory("plugins/")

# åŠ è½½æ‰€æœ‰æ’ä»¶
loader.load_all_plugins()

# åˆ—å‡ºå¯ç”¨æ’ä»¶
available_agents = loader.list_plugins("agent")
available_environments = loader.list_plugins("environment")
```

## ğŸš€ æ‰©å±•å¼€å‘æŒ‡å—

### æ‰©å±•å¼€å‘æ­¥éª¤

1. **ç¯å¢ƒå‡†å¤‡**: è®¾ç½®å¼€å‘ç¯å¢ƒå’Œä¾èµ–
2. **æ¥å£å®ç°**: ç»§æ‰¿ç›¸åº”çš„åŸºç±»å¹¶å®ç°æ¥å£
3. **æ’ä»¶æ³¨å†Œ**: ä½¿ç”¨è£…é¥°å™¨æ³¨å†Œæ’ä»¶
4. **é…ç½®å®šä¹‰**: åˆ›å»ºé…ç½®æ–‡ä»¶æ¨¡æ¿
5. **æµ‹è¯•ç¼–å†™**: ç¼–å†™å®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹
6. **æ–‡æ¡£ç¼–å†™**: æä¾›ä½¿ç”¨è¯´æ˜å’Œç¤ºä¾‹
7. **é›†æˆæµ‹è¯•**: åœ¨æ¡†æ¶ä¸­æµ‹è¯•æ‰©å±•åŠŸèƒ½

### æ‰©å±•ç±»å‹

#### 1. æ™ºèƒ½ä½“æ‰©å±•

- ç»§æ‰¿ `BaseAgent` ç±»
- å®ç° `_select_action()` æ–¹æ³•
- å¯é€‰å®ç°å­¦ä¹ å’Œè®°å¿†åŠŸèƒ½
- æ³¨å†Œä¸º "agent" ç±»å‹æ’ä»¶

#### 2. ç¯å¢ƒæ‰©å±•

- ç»§æ‰¿ `BaseEnvironment` ç±»
- å®ç° `reset()` å’Œ `step()` æ–¹æ³•
- å®šä¹‰è§‚å¯Ÿå’ŒåŠ¨ä½œç©ºé—´
- æ³¨å†Œä¸º "environment" ç±»å‹æ’ä»¶

#### 3. çŸ¥è¯†åç«¯æ‰©å±•

- å®ç° `IKnowledge` æ¥å£
- æä¾›æ£€ç´¢ã€æ›´æ–°ã€ç´¢å¼•åŠŸèƒ½
- æ”¯æŒä¸åŒçš„å­˜å‚¨åç«¯
- æ³¨å†Œä¸º "knowledge" ç±»å‹æ’ä»¶

#### 4. æ¨ç†ç­–ç•¥æ‰©å±•

- å®ç° `IReasoning` æ¥å£
- æä¾›è§„åˆ’å’Œæ¨ç†åŠŸèƒ½
- æ”¯æŒä¸åŒçš„æ¨ç†ç®—æ³•
- æ³¨å†Œä¸º "reasoning" ç±»å‹æ’ä»¶

## æ€§èƒ½è€ƒè™‘

### å†…å­˜ç®¡ç†

- é«˜æ•ˆå›¾å­˜å‚¨
- å†…å­˜æ˜ å°„ç´¢å¼•
- åƒåœ¾å›æ”¶
- èµ„æºç›‘æ§

### è®¡ç®—æ•ˆç‡

- å¹¶è¡Œå¤„ç†
- æ‰¹å¤„ç†æ“ä½œ
- ç¼“å­˜ç­–ç•¥
- å»¶è¿ŸåŠ è½½

### å¯æ‰©å±•æ€§

- åˆ†å¸ƒå¼å¤„ç†
- å¢é‡æ›´æ–°
- æµæ•°æ®
- è´Ÿè½½å‡è¡¡

## è´¨é‡ä¿è¯

### æµ‹è¯•ç­–ç•¥

- æ‰€æœ‰æ¨¡å—çš„å•å…ƒæµ‹è¯•
- å·¥ä½œæµçš„é›†æˆæµ‹è¯•
- ç«¯åˆ°ç«¯çš„ç³»ç»Ÿæµ‹è¯•
- æ€§èƒ½åŸºå‡†æµ‹è¯•

### ç›‘æ§å’Œæ—¥å¿—

- å…¨é¢æ—¥å¿—è®°å½•
- æ€§èƒ½æŒ‡æ ‡
- é”™è¯¯è·Ÿè¸ª
- è°ƒè¯•ä¿¡æ¯

### æ–‡æ¡£æ ‡å‡†

- APIæ–‡æ¡£
- æ¶æ„æŒ‡å—
- æ•™ç¨‹ææ–™
- ç¤ºä¾‹ä»£ç 

## ğŸ“ å®Œæ•´æ‰©å±•ç¤ºä¾‹

### ç¤ºä¾‹ï¼šåˆ›å»ºæƒ…æ„Ÿæ„ŸçŸ¥æ™ºèƒ½ä½“

#### 1. æ™ºèƒ½ä½“å®ç°

```python
# extensions/emotion_agent/agents/emotion_aware_agent.py
from src.agents.base_agent import BaseAgent
from src.core.plugin_registry import register_plugin
from typing import Any, Dict
import numpy as np

@register_plugin("agent", "emotion_aware_agent")
class EmotionAwareAgent(BaseAgent):
    """æƒ…æ„Ÿæ„ŸçŸ¥æ™ºèƒ½ä½“

    è¿™ä¸ªæ™ºèƒ½ä½“èƒ½å¤Ÿè¯†åˆ«å’Œå“åº”ç¯å¢ƒä¸­çš„æƒ…æ„Ÿä¿¡å·ï¼Œ
    å¹¶æ ¹æ®æƒ…æ„ŸçŠ¶æ€è°ƒæ•´å†³ç­–ç­–ç•¥ã€‚
    """

    def __init__(self, name: str, config: Dict[str, Any]):
        super().__init__(name, config)

        # åˆå§‹åŒ–æƒ…æ„Ÿæ¨¡å—
        self.emotion_detector = EmotionDetector(
            model_path=config.get('emotion_model_path', 'default')
        )
        self.emotion_state = EmotionState()

        # æƒ…æ„Ÿå½±å“å‚æ•°
        self.emotion_weight = config.get('emotion_weight', 0.3)
        self.emotion_decay = config.get('emotion_decay', 0.95)

        self.logger.info(f"EmotionAwareAgent '{name}' initialized")

    def _select_action(self, observation: Any) -> Any:
        """åŸºäºæƒ…æ„ŸçŠ¶æ€çš„åŠ¨ä½œé€‰æ‹©"""
        # æ£€æµ‹å½“å‰æƒ…æ„Ÿ
        current_emotion = self.emotion_detector.detect(observation)

        # æ›´æ–°æƒ…æ„ŸçŠ¶æ€
        self.emotion_state.update(current_emotion, self.emotion_decay)

        # è·å–åŸºç¡€åŠ¨ä½œå»ºè®®
        base_action = self._get_base_action(observation)

        # æ ¹æ®æƒ…æ„Ÿè°ƒæ•´åŠ¨ä½œ
        emotion_adjusted_action = self._adjust_action_by_emotion(
            base_action, self.emotion_state.current_emotion
        )

        # è®°å½•æƒ…æ„Ÿå†³ç­–è¿‡ç¨‹
        self._log_emotion_decision(observation, current_emotion,
                                 base_action, emotion_adjusted_action)

        return emotion_adjusted_action

    def _adjust_action_by_emotion(self, action: Any, emotion: Dict[str, float]) -> Any:
        """æ ¹æ®æƒ…æ„Ÿè°ƒæ•´åŠ¨ä½œ"""
        # æƒ…æ„Ÿè°ƒæ•´é€»è¾‘
        if emotion.get('anxiety', 0) > 0.7:
            # é«˜ç„¦è™‘æ—¶é€‰æ‹©ä¿å®ˆåŠ¨ä½œ
            return self._get_conservative_action(action)
        elif emotion.get('confidence', 0) > 0.8:
            # é«˜è‡ªä¿¡æ—¶é€‰æ‹©ç§¯æåŠ¨ä½œ
            return self._get_aggressive_action(action)
        else:
            # æ­£å¸¸æƒ…æ„ŸçŠ¶æ€
            return action

    def get_statistics(self) -> Dict[str, Any]:
        """è·å–åŒ…å«æƒ…æ„Ÿç»Ÿè®¡çš„ä¿¡æ¯"""
        stats = super().get_statistics()
        stats.update({
            'emotion_detections': self.emotion_detector.detection_count,
            'avg_emotion_confidence': self.emotion_detector.avg_confidence,
            'emotion_distribution': self.emotion_state.get_distribution(),
            'emotion_influenced_decisions': self._emotion_decision_count
        })
        return stats

class EmotionDetector:
    """æƒ…æ„Ÿæ£€æµ‹å™¨"""

    def __init__(self, model_path: str):
        self.model = self._load_model(model_path)
        self.detection_count = 0
        self.confidence_sum = 0.0

    def detect(self, observation: Any) -> Dict[str, float]:
        """æ£€æµ‹è§‚å¯Ÿä¸­çš„æƒ…æ„Ÿä¿¡å·"""
        # æ¨¡æ‹Ÿæƒ…æ„Ÿæ£€æµ‹
        emotions = self.model.predict(observation)

        self.detection_count += 1
        self.confidence_sum += emotions.get('confidence', 0.0)

        return emotions

    @property
    def avg_confidence(self) -> float:
        """å¹³å‡ç½®ä¿¡åº¦"""
        if self.detection_count == 0:
            return 0.0
        return self.confidence_sum / self.detection_count

class EmotionState:
    """æƒ…æ„ŸçŠ¶æ€ç®¡ç†"""

    def __init__(self):
        self.current_emotion = {'neutral': 1.0}
        self.emotion_history = []

    def update(self, new_emotion: Dict[str, float], decay: float):
        """æ›´æ–°æƒ…æ„ŸçŠ¶æ€"""
        # åº”ç”¨è¡°å‡
        for emotion in self.current_emotion:
            self.current_emotion[emotion] *= decay

        # èåˆæ–°æƒ…æ„Ÿ
        for emotion, value in new_emotion.items():
            if emotion in self.current_emotion:
                self.current_emotion[emotion] += value * (1 - decay)
            else:
                self.current_emotion[emotion] = value * (1 - decay)

        # å½’ä¸€åŒ–
        total = sum(self.current_emotion.values())
        if total > 0:
            for emotion in self.current_emotion:
                self.current_emotion[emotion] /= total

        # è®°å½•å†å²
        self.emotion_history.append(self.current_emotion.copy())

    def get_distribution(self) -> Dict[str, float]:
        """è·å–æƒ…æ„Ÿåˆ†å¸ƒç»Ÿè®¡"""
        if not self.emotion_history:
            return {}

        distribution = {}
        for emotions in self.emotion_history:
            for emotion, value in emotions.items():
                if emotion not in distribution:
                    distribution[emotion] = []
                distribution[emotion].append(value)

        # è®¡ç®—å¹³å‡å€¼
        for emotion in distribution:
            distribution[emotion] = np.mean(distribution[emotion])

        return distribution
```

#### 2. é…ç½®æ–‡ä»¶

```yaml
# configs/agents/emotion_aware_agent.yaml
agent_name: "emotion_aware_agent"
agent_type: "EmotionAwareAgent"
description: "æƒ…æ„Ÿæ„ŸçŸ¥æ™ºèƒ½ä½“ï¼Œèƒ½å¤Ÿè¯†åˆ«å’Œå“åº”æƒ…æ„Ÿä¿¡å·"

# LLMåŸºç¡€è®¾ç½®
llm:
  model_name: "gpt-4o"
  temperature: 0.7
  max_tokens: 512

# èƒ½åŠ›é…ç½®
capabilities:
  use_knowledge_graph: true
  use_memory: true
  use_enhanced_reasoning: true
  use_rl: false

# æƒ…æ„Ÿç‰¹å®šé…ç½®
emotion_config:
  emotion_model_path: "models/emotion_detector_v1.pkl"
  emotion_weight: 0.3
  emotion_decay: 0.95

  # æƒ…æ„Ÿé˜ˆå€¼
  thresholds:
    anxiety: 0.7
    confidence: 0.8
    frustration: 0.6

  # åŠ¨ä½œè°ƒæ•´ç­–ç•¥
  adjustment_strategies:
    conservative_multiplier: 0.7
    aggressive_multiplier: 1.3

# å®éªŒæ ‡ç­¾
experiment_tags:
  - "emotion_aware"
  - "adaptive_behavior"
  - "psychological_modeling"
```

#### 3. æµ‹è¯•ç”¨ä¾‹

```python
# tests/test_emotion_aware_agent.py
import pytest
from extensions.emotion_agent.agents.emotion_aware_agent import EmotionAwareAgent

class TestEmotionAwareAgent:
    """æƒ…æ„Ÿæ„ŸçŸ¥æ™ºèƒ½ä½“æµ‹è¯•"""

    @pytest.fixture
    def agent_config(self):
        return {
            'emotion_model_path': 'mock_model',
            'emotion_weight': 0.3,
            'emotion_decay': 0.95
        }

    @pytest.fixture
    def agent(self, agent_config):
        return EmotionAwareAgent("test_emotion_agent", agent_config)

    def test_emotion_detection(self, agent):
        """æµ‹è¯•æƒ…æ„Ÿæ£€æµ‹åŠŸèƒ½"""
        observation = "The player seems frustrated after failing the task"
        action = agent.act(observation)

        # éªŒè¯æƒ…æ„Ÿè¢«æ£€æµ‹åˆ°
        assert hasattr(agent, 'emotion_state')
        assert agent.emotion_detector.detection_count > 0

    def test_emotion_adjustment(self, agent):
        """æµ‹è¯•æƒ…æ„Ÿè°ƒæ•´åŠŸèƒ½"""
        # æ¨¡æ‹Ÿé«˜ç„¦è™‘æƒ…å†µ
        high_anxiety_obs = "This is a very stressful situation"
        action1 = agent.act(high_anxiety_obs)

        # æ¨¡æ‹Ÿé«˜è‡ªä¿¡æƒ…å†µ
        high_confidence_obs = "Everything is going perfectly"
        action2 = agent.act(high_confidence_obs)

        # éªŒè¯åŠ¨ä½œè¢«æƒ…æ„Ÿå½±å“
        assert action1 != action2  # ä¸åŒæƒ…æ„Ÿåº”äº§ç”Ÿä¸åŒåŠ¨ä½œ

    def test_statistics_include_emotion(self, agent):
        """æµ‹è¯•ç»Ÿè®¡ä¿¡æ¯åŒ…å«æƒ…æ„Ÿæ•°æ®"""
        # æ‰§è¡Œä¸€äº›åŠ¨ä½œ
        agent.act("test observation 1")
        agent.act("test observation 2")

        stats = agent.get_statistics()

        # éªŒè¯æƒ…æ„Ÿç»Ÿè®¡å­˜åœ¨
        assert 'emotion_detections' in stats
        assert 'avg_emotion_confidence' in stats
        assert 'emotion_distribution' in stats
```

#### 4. ä½¿ç”¨ç¤ºä¾‹

```python
# ä½¿ç”¨æƒ…æ„Ÿæ„ŸçŸ¥æ™ºèƒ½ä½“
from src.core.plugin_registry import get_plugin

# è·å–æ’ä»¶ç±»
EmotionAwareAgent = get_plugin("agent", "emotion_aware_agent")

# åˆ›å»ºæ™ºèƒ½ä½“
config = {
    'emotion_model_path': 'models/emotion_detector.pkl',
    'emotion_weight': 0.4,
    'emotion_decay': 0.9
}

agent = EmotionAwareAgent("emotion_agent", config)

# åœ¨å®éªŒä¸­ä½¿ç”¨
from src.integration.experiment_runner import ExperimentRunner

runner = ExperimentRunner("emotion_experiment")
results = runner.run_agent(agent, num_episodes=50)

# åˆ†ææƒ…æ„Ÿå½±å“
emotion_stats = results['agent_statistics']['emotion_distribution']
print(f"æƒ…æ„Ÿåˆ†å¸ƒ: {emotion_stats}")
```

## ğŸ¤” æ™ºèƒ½ä½“ç±»å‹è¯¦è§£ä¸å¯¹æ¯”

### RAG/ReAct vs RL KG vs ç»Ÿä¸€æ™ºèƒ½ä½“çš„æ ¸å¿ƒåŒºåˆ«

å¾ˆå¤šäººå®¹æ˜“æ··æ·†è¿™äº›æ™ºèƒ½ä½“ç±»å‹ï¼Œè®©æˆ‘è¯¦ç»†è§£é‡Šå®ƒä»¬çš„æœ¬è´¨åŒºåˆ«ï¼š

#### 1. **RAG/ReActæ™ºèƒ½ä½“** - æ£€ç´¢å¢å¼ºçš„æ¨ç†æ™ºèƒ½ä½“
```
è§‚å¯Ÿ â†’ RAGæ£€ç´¢ â†’ æ„å»ºå¢å¼ºä¸Šä¸‹æ–‡ â†’ ReActæ¨ç†å¾ªç¯ â†’ åŠ¨ä½œé€‰æ‹©
```

**æ ¸å¿ƒç‰¹ç‚¹**ï¼š
- **å†³ç­–ä¸»ä½“**: LLM (GPT-4ç­‰å¤§è¯­è¨€æ¨¡å‹)
- **çŸ¥è¯†ä½¿ç”¨æ–¹å¼**: æ£€ç´¢ç›¸å…³æ–‡æ¡£/çŸ¥è¯†ç‰‡æ®µï¼Œä½œä¸ºä¸Šä¸‹æ–‡è¾“å…¥ç»™LLM
- **æ¨ç†æ–¹å¼**: ReActå¾ªç¯ (Thought-Action-Observation)
- **å­¦ä¹ æœºåˆ¶**: ä¾èµ–é¢„è®­ç»ƒLLMï¼Œæ— åœ¨çº¿å­¦ä¹ 
- **é€‚ç”¨åœºæ™¯**: éœ€è¦å¤æ‚æ¨ç†å’Œå¤–éƒ¨çŸ¥è¯†çš„ä»»åŠ¡

**å…·ä½“æµç¨‹**ï¼š
1. æ¥æ”¶ç¯å¢ƒè§‚å¯Ÿ
2. **RAGæ£€ç´¢**: ä»çŸ¥è¯†åº“ä¸­æ£€ç´¢ç›¸å…³ä¿¡æ¯
   - è¯­ä¹‰æ£€ç´¢ (å‘é‡ç›¸ä¼¼åº¦)
   - å…³é”®è¯æ£€ç´¢ (BM25ç­‰)
   - æ··åˆæ’åºå’Œé‡æ’
3. **æ„å»ºå¢å¼ºä¸Šä¸‹æ–‡**: å°†æ£€ç´¢åˆ°çš„çŸ¥è¯†ä¸è§‚å¯Ÿç»„åˆ
4. **ReActæ¨ç†**:
   - Thought: "æˆ‘éœ€è¦åˆ†æå½“å‰æƒ…å†µ..."
   - Action: "æˆ‘åº”è¯¥æ‰§è¡Œexamine room"
   - Observation: "æˆ¿é—´é‡Œæœ‰ä¸€æŠŠé’¥åŒ™"
   - (å¾ªç¯ç›´åˆ°å¾—å‡ºæœ€ç»ˆåŠ¨ä½œ)
5. æ‰§è¡Œé€‰å®šçš„åŠ¨ä½œ

#### 2. **RL KGæ™ºèƒ½ä½“** - å¼ºåŒ–å­¦ä¹ ä¸»å¯¼çš„çŸ¥è¯†å›¾è°±æ™ºèƒ½ä½“
```
è§‚å¯Ÿ â†’ KGç‰¹å¾æå– â†’ RLçŠ¶æ€æ„å»º â†’ ç­–ç•¥ç½‘ç»œ â†’ åŠ¨ä½œé€‰æ‹© â†’ å¥–åŠ±å­¦ä¹ 
```

**æ ¸å¿ƒç‰¹ç‚¹**ï¼š
- **å†³ç­–ä¸»ä½“**: RLç­–ç•¥ç½‘ç»œ (PPO/DQNç­‰)
- **çŸ¥è¯†ä½¿ç”¨æ–¹å¼**: çŸ¥è¯†å›¾è°±ä½œä¸ºç»“æ„åŒ–ç‰¹å¾è¾“å…¥åˆ°ç¥ç»ç½‘ç»œ
- **æ¨ç†æ–¹å¼**: ç¥ç»ç½‘ç»œå‰å‘ä¼ æ’­
- **å­¦ä¹ æœºåˆ¶**: é€šè¿‡ç¯å¢ƒäº¤äº’å’Œå¥–åŠ±ä¿¡å·æŒç»­å­¦ä¹ 
- **é€‚ç”¨åœºæ™¯**: éœ€è¦é•¿æœŸå­¦ä¹ å’Œä¼˜åŒ–çš„å†³ç­–ä»»åŠ¡

**å…·ä½“æµç¨‹**ï¼š
1. æ¥æ”¶ç¯å¢ƒè§‚å¯Ÿ
2. **KGç‰¹å¾æå–**:
   - èŠ‚ç‚¹åµŒå…¥ (å®ä½“è¡¨ç¤º)
   - è¾¹ç‰¹å¾ (å…³ç³»è¡¨ç¤º)
   - å›¾ç»“æ„ä¿¡æ¯ (æ‹“æ‰‘ç‰¹å¾)
   - æ—¶åºä¿¡æ¯ (åŠ¨æ€å˜åŒ–)
3. **æ„å»ºRLçŠ¶æ€**: å°†è§‚å¯Ÿç‰¹å¾å’ŒKGç‰¹å¾ç»„åˆæˆçŠ¶æ€å‘é‡
4. **ç­–ç•¥ç½‘ç»œå†³ç­–**:
   - è¾“å…¥çŠ¶æ€å‘é‡åˆ°ç¥ç»ç½‘ç»œ
   - è¾“å‡ºåŠ¨ä½œæ¦‚ç‡åˆ†å¸ƒ
   - é€‰æ‹©æœ€ä¼˜åŠ¨ä½œ
5. æ‰§è¡ŒåŠ¨ä½œï¼Œæ¥æ”¶å¥–åŠ±ï¼Œæ›´æ–°ç­–ç•¥

#### 3. **ç»Ÿä¸€æ™ºèƒ½ä½“** - é…ç½®é©±åŠ¨çš„å¤šèƒ½åŠ›é›†æˆ
```
è§‚å¯Ÿ â†’ é…ç½®æ£€æŸ¥ â†’ å¤šæ¨¡å—å¤„ç† â†’ ç­–ç•¥é€‰æ‹© â†’ åŠ¨ä½œæ‰§è¡Œ â†’ çŠ¶æ€æ›´æ–°
```

**æ ¸å¿ƒç‰¹ç‚¹**ï¼š
- **å†³ç­–ä¸»ä½“**: æ ¹æ®é…ç½®åŠ¨æ€é€‰æ‹© (LLM/RL/æ¨ç†)
- **çŸ¥è¯†ä½¿ç”¨æ–¹å¼**: æ”¯æŒå¤šç§æ–¹å¼ (æ£€ç´¢/ç‰¹å¾/æ¨ç†)
- **æ¨ç†æ–¹å¼**: å¯é…ç½® (ReAct/DODAF/ç›´æ¥)
- **å­¦ä¹ æœºåˆ¶**: æ”¯æŒå¤šç§å­¦ä¹ æ–¹å¼
- **é€‚ç”¨åœºæ™¯**: æ¶ˆèç ”ç©¶å’Œç³»ç»Ÿå¯¹æ¯”

**å…·ä½“æµç¨‹**ï¼š
1. æ¥æ”¶ç¯å¢ƒè§‚å¯Ÿ
2. **é…ç½®æ£€æŸ¥**: æ ¹æ®YAMLé…ç½®ç¡®å®šå¯ç”¨çš„èƒ½åŠ›
3. **å¤šæ¨¡å—å¤„ç†**:
   - å¦‚æœå¯ç”¨KG: è¿›è¡ŒçŸ¥è¯†æ£€ç´¢
   - å¦‚æœå¯ç”¨è®°å¿†: æ£€ç´¢ç›¸å…³è®°å¿†
   - å¦‚æœå¯ç”¨æ¨ç†: æ‰§è¡Œæ¨ç†è§„åˆ’
4. **ç­–ç•¥é€‰æ‹©**: æ ¹æ®é…ç½®é€‰æ‹©å†³ç­–ç­–ç•¥
   - RLæ¨¡å¼: ä½¿ç”¨å¼ºåŒ–å­¦ä¹ ç­–ç•¥
   - æ¨ç†æ¨¡å¼: ä½¿ç”¨ReAct/DODAFæ¨ç†
   - çŸ¥è¯†å¢å¼º: ä½¿ç”¨çŸ¥è¯†å¢å¼ºçš„LLM
   - åŸºçº¿æ¨¡å¼: ä½¿ç”¨çº¯LLM
5. æ‰§è¡ŒåŠ¨ä½œå¹¶æ›´æ–°å„æ¨¡å—çŠ¶æ€

### å…³é”®åŒºåˆ«æ€»ç»“

| ç‰¹å¾ | RAG/ReAct | RL KG | ç»Ÿä¸€æ™ºèƒ½ä½“ |
|------|-----------|-------|------------|
| **å†³ç­–æ ¸å¿ƒ** | LLMæ¨ç† | RLç­–ç•¥ç½‘ç»œ | é…ç½®é©±åŠ¨é€‰æ‹© |
| **çŸ¥è¯†ä½¿ç”¨** | æ–‡æœ¬æ£€ç´¢å¢å¼º | ç»“æ„åŒ–ç‰¹å¾ | å¤šç§æ–¹å¼æ”¯æŒ |
| **å­¦ä¹ èƒ½åŠ›** | æ— åœ¨çº¿å­¦ä¹  | æŒç»­å¼ºåŒ–å­¦ä¹  | å¯é…ç½®å­¦ä¹  |
| **æ¨ç†æ–¹å¼** | ReActå¾ªç¯ | ç¥ç»ç½‘ç»œæ¨ç† | å¤šç§æ¨ç†ç­–ç•¥ |
| **é€‚ç”¨åœºæ™¯** | å¤æ‚æ¨ç†ä»»åŠ¡ | é•¿æœŸä¼˜åŒ–ä»»åŠ¡ | ç ”ç©¶å’Œå¯¹æ¯” |
| **é…ç½®å¤æ‚åº¦** | ä¸­ç­‰ | é«˜ | æœ€é«˜ |

### ä¸ºä»€ä¹ˆéœ€è¦è¿™ç§è®¾è®¡ï¼Ÿ

1. **ç ”ç©¶éœ€æ±‚**: ä¸åŒçš„ç ”ç©¶é—®é¢˜éœ€è¦ä¸åŒçš„æ–¹æ³•
2. **æ¶ˆèç ”ç©¶**: ç»Ÿä¸€æ™ºèƒ½ä½“æ”¯æŒç³»ç»Ÿæ€§çš„èƒ½åŠ›å¯¹æ¯”
3. **åŸºçº¿å¯¹æ¯”**: ä»ç®€å•åˆ°å¤æ‚çš„æ¸è¿›å¼è¯„ä¼°
4. **æ¨¡å—åŒ–**: æ¯ä¸ªæ™ºèƒ½ä½“ä¸“æ³¨äºç‰¹å®šçš„æŠ€æœ¯è·¯çº¿
5. **å¯æ‰©å±•æ€§**: ä¾¿äºæ·»åŠ æ–°çš„æ™ºèƒ½ä½“ç±»å‹å’Œèƒ½åŠ›

è¿™ç§è®¾è®¡è®©ç ”ç©¶äººå‘˜å¯ä»¥ï¼š
- å•ç‹¬æµ‹è¯•æ¯ç§æ–¹æ³•çš„æ•ˆæœ
- è¿›è¡Œå…¬å¹³çš„å¯¹æ¯”å®éªŒ
- ç†è§£ä¸åŒæŠ€æœ¯çš„è´¡çŒ®
- æ¢ç´¢æœ€ä½³çš„ç»„åˆæ–¹å¼

è¯¥æ¶æ„ä¸ºKGRLç ”ç©¶æä¾›äº†åšå®çš„åŸºç¡€ï¼ŒåŒæ—¶ä¿æŒäº†æœªæ¥æ‰©å±•å’Œä¿®æ”¹çš„çµæ´»æ€§ã€‚é€šè¿‡å®Œå–„çš„æ¥å£è®¾è®¡å’Œæ’ä»¶ç³»ç»Ÿï¼Œç ”ç©¶äººå‘˜å¯ä»¥è½»æ¾åœ°æ·»åŠ æ–°çš„åŠŸèƒ½æ¨¡å—ï¼Œæ¢ç´¢ä¸åŒçš„ç ”ç©¶æ–¹å‘ã€‚
