# KGRLç§‘ç ”æ ‡å‡†æ¶æ„è®¾è®¡

## è®¾è®¡åŸåˆ™

1. **èŒè´£æ¸…æ™°**ï¼šæ¯ä¸ªæ¨¡å—æœ‰æ˜ç¡®çš„å•ä¸€èŒè´£
2. **å±‚æ¬¡åˆ†æ˜**ï¼šLLMåŸºçº¿ â†’ RAG/ReAct â†’ RL KGæ™ºèƒ½ä½“çš„æ¸…æ™°å±‚æ¬¡
3. **é…ç½®é©±åŠ¨**ï¼šæ‰€æœ‰å®éªŒå‚æ•°é€šè¿‡é…ç½®æ–‡ä»¶æ§åˆ¶
4. **ç§‘ç ”æ ‡å‡†**ï¼šç¬¦åˆå­¦æœ¯ç•Œçš„é¡¹ç›®ç»„ç»‡è§„èŒƒ
5. **å¯æ‰©å±•æ€§**ï¼šæ”¯æŒå¤šç§ç¯å¢ƒå’Œç®—æ³•çš„æ‰©å±•

## æ–°æ¶æ„è®¾è®¡

```
kgrl-research/
â”œâ”€â”€ README.md                              # é¡¹ç›®æ€»è§ˆ
â”œâ”€â”€ requirements.txt                       # ä¾èµ–ç®¡ç†
â”œâ”€â”€ setup.py                              # åŒ…å®‰è£…é…ç½®
â”‚
â”œâ”€â”€ configs/                              # ğŸ›ï¸ é…ç½®ä¸­å¿ƒ
â”‚   â”œâ”€â”€ agents/                           # Agenté…ç½®
â”‚   â”‚   â”œâ”€â”€ llm_baseline.yaml            # LLMåŸºçº¿é…ç½®
â”‚   â”‚   â”œâ”€â”€ rag_react.yaml               # RAG/ReActé…ç½®
â”‚   â”‚   â”œâ”€â”€ rl_kg_agent.yaml             # RL KGæ™ºèƒ½ä½“é…ç½®
â”‚   â”‚   â””â”€â”€ unified_agent.yaml           # ç»Ÿä¸€æ™ºèƒ½ä½“é…ç½®
â”‚   â”œâ”€â”€ environments/                     # ç¯å¢ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ textworld.yaml               # TextWorldç¯å¢ƒ
â”‚   â”‚   â””â”€â”€ alfworld.yaml                # ALFWorldç¯å¢ƒ
â”‚   â”œâ”€â”€ experiments/                      # å®éªŒé…ç½®
â”‚   â”‚   â”œâ”€â”€ ablation_study.yaml          # æ¶ˆèå®éªŒ
â”‚   â”‚   â”œâ”€â”€ baseline_comparison.yaml     # åŸºçº¿å¯¹æ¯”
â”‚   â”‚   â””â”€â”€ full_evaluation.yaml         # å®Œæ•´è¯„ä¼°
â”‚   â”œâ”€â”€ modes/                           # è¿è¡Œæ¨¡å¼é…ç½®
â”‚   â”‚   â”œâ”€â”€ joint_retrieve_update.yaml   # è”åˆæ£€ç´¢æ›´æ–°
â”‚   â”‚   â”œâ”€â”€ decoupled_update_first.yaml  # å…ˆæ›´æ–°åæ£€ç´¢
â”‚   â”‚   â””â”€â”€ decoupled_retrieve_first.yaml # å…ˆæ£€ç´¢åæ›´æ–°
â”‚   â””â”€â”€ kg/                              # çŸ¥è¯†å›¾è°±é…ç½®
â”‚       â”œâ”€â”€ schema.yaml                  # KGæ¨¡å¼å®šä¹‰
â”‚       â”œâ”€â”€ storage.yaml                 # å­˜å‚¨é…ç½®
â”‚       â””â”€â”€ indexing.yaml                # ç´¢å¼•é…ç½®
â”‚
â”œâ”€â”€ data/                                # ğŸ“Š æ•°æ®ç®¡ç†
â”‚   â”œâ”€â”€ raw/                            # åŸå§‹æ•°æ®
â”‚   â”œâ”€â”€ processed/                      # å¤„ç†åæ•°æ®
â”‚   â”œâ”€â”€ kg/                            # çŸ¥è¯†å›¾è°±æ•°æ®
â”‚   â”‚   â”œâ”€â”€ schemas/                   # KGæ¨¡å¼æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ triples/                   # ä¸‰å…ƒç»„æ•°æ®
â”‚   â”‚   â”œâ”€â”€ indexes/                   # ç´¢å¼•æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ snapshots/                 # KGå¿«ç…§
â”‚   â””â”€â”€ benchmarks/                    # åŸºå‡†æ•°æ®é›†
â”‚
â”œâ”€â”€ src/                               # ğŸ§  æ ¸å¿ƒæºç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ agents/                        # æ™ºèƒ½ä½“å®ç°
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base_agent.py             # åŸºç¡€æ™ºèƒ½ä½“ç±»
â”‚   â”‚   â”œâ”€â”€ llm_baseline.py           # LLMåŸºçº¿æ™ºèƒ½ä½“
â”‚   â”‚   â”œâ”€â”€ rag_react_agent.py        # RAG/ReActæ™ºèƒ½ä½“
â”‚   â”‚   â”œâ”€â”€ rl_kg_agent.py            # RL KGæ™ºèƒ½ä½“
â”‚   â”‚   â””â”€â”€ unified_agent.py          # ç»Ÿä¸€æ™ºèƒ½ä½“
â”‚   â”‚
â”‚   â”œâ”€â”€ environments/                  # ç¯å¢ƒé€‚é…
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base_env.py               # åŸºç¡€ç¯å¢ƒæ¥å£
â”‚   â”‚   â”œâ”€â”€ textworld_adapter.py      # TextWorldé€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ alfworld_adapter.py       # ALFWorldé€‚é…å™¨
â”‚   â”‚   â””â”€â”€ wrappers.py               # ç¯å¢ƒåŒ…è£…å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ knowledge/                     # çŸ¥è¯†å›¾è°±ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ graph_manager.py          # å›¾ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ retriever.py              # çŸ¥è¯†æ£€ç´¢
â”‚   â”‚   â”œâ”€â”€ updater.py                # çŸ¥è¯†æ›´æ–°
â”‚   â”‚   â”œâ”€â”€ indexer.py                # ç´¢å¼•ç®¡ç†
â”‚   â”‚   â””â”€â”€ schema_manager.py         # æ¨¡å¼ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ reasoning/                     # æ¨ç†ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ react_planner.py          # ReActè§„åˆ’å™¨
â”‚   â”‚   â”œâ”€â”€ dodaf_reasoner.py         # DODAFæ¨ç†å™¨
â”‚   â”‚   â”œâ”€â”€ chain_of_thought.py       # æ€ç»´é“¾æ¨ç†
â”‚   â”‚   â””â”€â”€ strategy_selector.py      # ç­–ç•¥é€‰æ‹©å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ rl/                           # å¼ºåŒ–å­¦ä¹ ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ algorithms/               # RLç®—æ³•
â”‚   â”‚   â”‚   â”œâ”€â”€ ppo_kg.py            # PPO + KG
â”‚   â”‚   â”‚   â””â”€â”€ dqn_kg.py            # DQN + KG
â”‚   â”‚   â”œâ”€â”€ policies/                 # ç­–ç•¥ç½‘ç»œ
â”‚   â”‚   â”‚   â”œâ”€â”€ action_head.py       # åŠ¨ä½œå¤´
â”‚   â”‚   â”‚   â””â”€â”€ value_net.py         # ä»·å€¼ç½‘ç»œ
â”‚   â”‚   â”œâ”€â”€ replay_buffer.py          # ç»éªŒå›æ”¾
â”‚   â”‚   â””â”€â”€ reward_shaping.py         # å¥–åŠ±å¡‘å½¢
â”‚   â”‚
â”‚   â”œâ”€â”€ integration/                   # ç³»ç»Ÿé›†æˆ
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ orchestrator.py           # ç³»ç»Ÿç¼–æ’å™¨
â”‚   â”‚   â”œâ”€â”€ mode_controller.py        # æ¨¡å¼æ§åˆ¶å™¨
â”‚   â”‚   â””â”€â”€ pipeline_manager.py       # æµæ°´çº¿ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ evaluation/                    # è¯„ä¼°ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ metrics.py                # è¯„ä¼°æŒ‡æ ‡
â”‚   â”‚   â”œâ”€â”€ benchmarks.py             # åŸºå‡†æµ‹è¯•
â”‚   â”‚   â””â”€â”€ analyzers.py              # ç»“æœåˆ†æ
â”‚   â”‚
â”‚   â””â”€â”€ utils/                        # å·¥å…·æ¨¡å—
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ config_loader.py          # é…ç½®åŠ è½½
â”‚       â”œâ”€â”€ logging_utils.py          # æ—¥å¿—å·¥å…·
â”‚       â”œâ”€â”€ visualization.py          # å¯è§†åŒ–å·¥å…·
â”‚       â””â”€â”€ data_utils.py             # æ•°æ®å·¥å…·
â”‚
â”œâ”€â”€ experiments/                       # ğŸ§ª å®éªŒç®¡ç†
â”‚   â”œâ”€â”€ logs/                         # å®éªŒæ—¥å¿—
â”‚   â”œâ”€â”€ checkpoints/                  # æ¨¡å‹æ£€æŸ¥ç‚¹
â”‚   â”œâ”€â”€ results/                      # å®éªŒç»“æœ
â”‚   â”‚   â”œâ”€â”€ metrics/                  # æŒ‡æ ‡æ•°æ®
â”‚   â”‚   â”œâ”€â”€ plots/                    # å›¾è¡¨
â”‚   â”‚   â””â”€â”€ traces/                   # æ‰§è¡Œè½¨è¿¹
â”‚   â””â”€â”€ configs/                      # å®éªŒç‰¹å®šé…ç½®
â”‚
â”œâ”€â”€ scripts/                          # ğŸš€ æ‰§è¡Œè„šæœ¬
â”‚   â”œâ”€â”€ train/                        # è®­ç»ƒè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ train_llm_baseline.py     # è®­ç»ƒLLMåŸºçº¿
â”‚   â”‚   â”œâ”€â”€ train_rag_react.py        # è®­ç»ƒRAG/ReAct
â”‚   â”‚   â””â”€â”€ train_rl_kg.py            # è®­ç»ƒRL KGæ™ºèƒ½ä½“
â”‚   â”œâ”€â”€ evaluate/                     # è¯„ä¼°è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ run_ablation.py           # æ¶ˆèå®éªŒ
â”‚   â”‚   â”œâ”€â”€ run_comparison.py         # å¯¹æ¯”å®éªŒ
â”‚   â”‚   â””â”€â”€ run_full_eval.py          # å®Œæ•´è¯„ä¼°
â”‚   â”œâ”€â”€ data/                         # æ•°æ®å¤„ç†è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ preprocess_data.py        # æ•°æ®é¢„å¤„ç†
â”‚   â”‚   â”œâ”€â”€ build_kg.py               # æ„å»ºçŸ¥è¯†å›¾è°±
â”‚   â”‚   â””â”€â”€ create_indexes.py         # åˆ›å»ºç´¢å¼•
â”‚   â””â”€â”€ utils/                        # å·¥å…·è„šæœ¬
â”‚       â”œâ”€â”€ setup_env.py              # ç¯å¢ƒè®¾ç½®
â”‚       â”œâ”€â”€ export_results.py         # ç»“æœå¯¼å‡º
â”‚       â””â”€â”€ visualize_traces.py       # è½¨è¿¹å¯è§†åŒ–
â”‚
â”œâ”€â”€ tests/                            # ğŸ§ª æµ‹è¯•å¥—ä»¶
â”‚   â”œâ”€â”€ unit/                         # å•å…ƒæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_agents.py
â”‚   â”‚   â”œâ”€â”€ test_knowledge.py
â”‚   â”‚   â”œâ”€â”€ test_reasoning.py
â”‚   â”‚   â””â”€â”€ test_rl.py
â”‚   â”œâ”€â”€ integration/                  # é›†æˆæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_pipeline.py
â”‚   â”‚   â””â”€â”€ test_experiments.py
â”‚   â”œâ”€â”€ system/                       # ç³»ç»Ÿæµ‹è¯•
â”‚   â”‚   â””â”€â”€ test_end_to_end.py
â”‚   â””â”€â”€ fixtures/                     # æµ‹è¯•æ•°æ®
â”‚
â””â”€â”€ docs/                            # ğŸ“š æ–‡æ¡£
    â”œâ”€â”€ README.md                    # æ–‡æ¡£ç´¢å¼•
    â”œâ”€â”€ architecture/                # æ¶æ„æ–‡æ¡£
    â”‚   â”œâ”€â”€ overview.md              # æ¶æ„æ¦‚è§ˆ
    â”‚   â”œâ”€â”€ agents.md                # æ™ºèƒ½ä½“è®¾è®¡
    â”‚   â”œâ”€â”€ knowledge_graph.md       # çŸ¥è¯†å›¾è°±è®¾è®¡
    â”‚   â””â”€â”€ integration.md           # é›†æˆè®¾è®¡
    â”œâ”€â”€ tutorials/                   # æ•™ç¨‹
    â”‚   â”œâ”€â”€ quickstart.md            # å¿«é€Ÿå¼€å§‹
    â”‚   â”œâ”€â”€ configuration.md         # é…ç½®æŒ‡å—
    â”‚   â””â”€â”€ experiments.md           # å®éªŒæŒ‡å—
    â”œâ”€â”€ api/                         # APIæ–‡æ¡£
    â””â”€â”€ paper/                       # è®ºæ–‡ç›¸å…³
        â”œâ”€â”€ figures/                 # è®ºæ–‡å›¾è¡¨
        â”œâ”€â”€ tables/                  # è®ºæ–‡è¡¨æ ¼
        â””â”€â”€ references.bib           # å‚è€ƒæ–‡çŒ®
```

## æ ¸å¿ƒè®¾è®¡ç‰¹ç‚¹

### 1. æ¸…æ™°çš„å±‚æ¬¡ç»“æ„
- **LLMåŸºçº¿**ï¼š`src/agents/llm_baseline.py` - ä»»åŠ¡æŠ“å–å’ŒåŸºç¡€å†³ç­–
- **RAG/ReAct**ï¼š`src/agents/rag_react_agent.py` - æ£€ç´¢å¢å¼ºå’Œæ¨ç†
- **RL KGæ™ºèƒ½ä½“**ï¼š`src/agents/rl_kg_agent.py` - å¼ºåŒ–å­¦ä¹ ä¸»å¯¼å†³ç­–
- **ç»Ÿä¸€æ™ºèƒ½ä½“**ï¼š`src/agents/unified_agent.py` - é›†æˆæ‰€æœ‰èƒ½åŠ›

### 2. é…ç½®é©±åŠ¨çš„å®éªŒ
- `configs/modes/` - ä¸åŒè¿è¡Œæ¨¡å¼çš„é…ç½®
- `configs/experiments/` - å®éªŒå‚æ•°é…ç½®
- `configs/agents/` - æ™ºèƒ½ä½“é…ç½®
- `configs/environments/` - ç¯å¢ƒé…ç½®

### 3. æ¨¡å—åŒ–çŸ¥è¯†å›¾è°±ç³»ç»Ÿ
- `src/knowledge/graph_manager.py` - ç»Ÿä¸€å›¾ç®¡ç†
- `src/knowledge/retriever.py` - æ£€ç´¢ç­–ç•¥
- `src/knowledge/updater.py` - æ›´æ–°ç­–ç•¥
- `src/knowledge/indexer.py` - ç´¢å¼•ç®¡ç†

### 4. å®Œæ•´çš„å®éªŒç®¡ç†
- `experiments/` - æ‰€æœ‰å®éªŒæ•°æ®å’Œç»“æœ
- `scripts/` - æ ‡å‡†åŒ–çš„æ‰§è¡Œè„šæœ¬
- `tests/` - å®Œæ•´çš„æµ‹è¯•è¦†ç›–

### 5. ç§‘ç ”æ ‡å‡†æ–‡æ¡£
- `docs/architecture/` - è¯¦ç»†çš„æ¶æ„æ–‡æ¡£
- `docs/tutorials/` - ä½¿ç”¨æ•™ç¨‹
- `docs/paper/` - è®ºæ–‡ç›¸å…³ææ–™

## ä¸ç°æœ‰æ¶æ„çš„å¯¹æ¯”

| æ–¹é¢ | ç°æœ‰æ¶æ„ | æ–°æ¶æ„ |
|------|----------|--------|
| ç›®å½•ç»“æ„ | æ··ä¹±ï¼Œé‡å¤å¤š | æ¸…æ™°ï¼ŒèŒè´£æ˜ç¡® |
| é…ç½®ç®¡ç† | åˆ†æ•£åœ¨å¤šå¤„ | ç»Ÿä¸€åœ¨configs/ |
| å®éªŒç®¡ç† | results/å’Œframework/resultsé‡å¤ | ç»Ÿä¸€åœ¨experiments/ |
| ä»£ç ç»„ç»‡ | src/å’Œframework/åŠŸèƒ½é‡å  | å•ä¸€src/ï¼Œæ¨¡å—åŒ– |
| æµ‹è¯•ç»“æ„ | æµ‹è¯•åˆ†æ•£ | å®Œæ•´æµ‹è¯•å¥—ä»¶ |
| æ–‡æ¡£ç»„ç»‡ | æ–‡æ¡£æ··ä¹± | ç§‘ç ”æ ‡å‡†æ–‡æ¡£ |

## è¿ç§»ç­–ç•¥

1. **ä¿ç•™æ ¸å¿ƒåŠŸèƒ½**ï¼šå°†ç°æœ‰çš„æ ¸å¿ƒç®—æ³•å’Œå®ç°è¿ç§»åˆ°æ–°æ¶æ„
2. **ç»Ÿä¸€é…ç½®**ï¼šåˆå¹¶æ‰€æœ‰é…ç½®æ–‡ä»¶åˆ°configs/
3. **æ•´åˆå®éªŒ**ï¼šå°†æ‰€æœ‰å®éªŒç›¸å…³å†…å®¹ç§»åˆ°experiments/
4. **æ ‡å‡†åŒ–æµ‹è¯•**ï¼šé‡æ–°ç»„ç»‡æµ‹è¯•ç»“æ„
5. **å®Œå–„æ–‡æ¡£**ï¼šæŒ‰ç§‘ç ”æ ‡å‡†é‡å†™æ–‡æ¡£

è¿™ä¸ªæ–°æ¶æ„å°†å½»åº•è§£å†³ç°æœ‰çš„æ··ä¹±é—®é¢˜ï¼Œæä¾›æ¸…æ™°çš„ç§‘ç ”é¡¹ç›®ç»“æ„ã€‚
